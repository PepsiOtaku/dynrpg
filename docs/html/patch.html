<!-- HTML header for doxygen 1.10.0-->
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=11" />
  <meta name="generator" content="Doxygen 1.12.0" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DynRPG: The Patch</title>
  <link href="tabs.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
</head>
<body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
      <div id="titlearea">
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr id="projectrow">
              <td id="projectlogo"><img alt="Logo" src="DynRPG_logo_webPepsiOtaku.png"  /></td>
              <td id="projectalign">
                <div id="projectname">DynRPG<span
                    id="projectnumber">&#160;v0.32 Unofficial</span>
                </div>
                <div id="projectbrief">Plugin SDK</div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="topics.html"><span>Topics</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">The Patch</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="installation_patch"></a>
Installation</h1>
<p>It couldn't be easier: You just run the patcher (that's the file called <code>dynrpg_patcher.exe</code>), select your project's <code>RPG_RT.exe</code> file and that's it, at least in most of the cases. DynRPG should be compatible with all other 1.08-based patches.</p>
<p>In case you don't have <code>RPG_RT.exe</code> version 1.08, the patcher will offer you to install it. However, this will remove all existing modifications (other patches, custom icon, etc.). But don't worry, in case anything goes wrong there is always a backup (that's the file with the <code>.bak</code> extension). If you install the patch "over" an existing (older) version of the DynRPG Patch, there will also be a backup of the <code>dynloader.dll</code> file.</p>
<p>You don't need to include the backup files (ending with <code>.bak</code>) in your finished game. Also, players don't need to install anything special to run a game which uses DynRPG.</p>
<p>The patcher will also automatically create a <code>DynPlugins</code> folder for you, so you can immediately start adding and using plugins.</p>
<h1><a class="anchor" id="features_patch"></a>
Extra Features</h1>
<p>Of course, the main feature of the DynRPG Patch is interfacing the DynRPG Loader, which then loads the plugins. (See <a class="el" href="index.html#parts">Parts</a> for more information.) </p><dl class="section note"><dt>Note</dt><dd>You cannot use more than 50 plugins at the same time.</dd></dl>
<p>But that's not everything, the patch also comes with several <b>improvements and bugfixes</b> for the RPG Maker: </p><ul>
<li>
<b>Improvement: <em>More pictures!</em></b> You can now use 2000 pictures instead of 50, and pictures #1001 to #2000 are not erased when the player goes to a new map! Please read the <a class="el" href="#more_pics">About the pictures</a> section below to find out what you need to know about this feature. </li>
<li>
<b>Improvement: <em>On-the-fly application of IPS patches!</em></b> This means that IPS patches can now be used in a similar manner as plugins, by simply copying them to a folder. This means they can easily be removed again by deleting the file. Please read the <a class="el" href="#onthefly_ips">On-the-fly IPS patches</a> section for further details. </li>
<li>
<b>Improvement: <em>Quickpatches!</em></b> This feature allows you to add simple patches as small lines of text which can easily be shared on the Internet. Those simple patches can also be customized (such as having a configurable value for something). Please read the <a class="el" href="#quickpatches">Quickpatches</a> section below for detailed instructions! </li>
<li>
<b>Improvement:</b> Monsters are now flashed more intensively when they do their turn. Before, it was hard to follow what was going on in battle, especially if a monster used the "Attack" command. </li>
<li>
<b>Improvement:</b> Picture operations now also work while a message is displayed. (Yes, that's the same thing the <a href="http://cherrytree.at/download/?did=16">UnlockPics Patch</a> does.) </li>
<li>
<b>Improvement:</b> The game doesn't completely close when an error occurs. Instead it goes back to the title screen. </li>
<li>
<b>Improvement:</b> You can now press <code>F11</code> to go to the save menu at any time (in test play only). </li>
<li>
<b>Improvement:</b> The "Input Number" event command will now use the existing value in the variable as initial value. Before, it always started with zero. </li>
<li>
<b>Improvement:</b> When you press <code>ESC</code> at a "Show Choice" command where the cancel behavior is set to "Ignore", now the buzzer sound is played. </li>
<li>
<b>Improvement:</b> Transparent message windows will now also work with the "Traditional" battle layout (at least out of the battle). You have to change the battle layout so that the "Transparent" checkbox becomes enabled, check or uncheck it and then change the battle layout back. </li>
<li>
<b>Bugfix:</b> The game would crash when you removed an actor in battle when this actor was the last to do his turn. </li>
<li>
<b>Bugfix:</b> The "Enemy Attack" sound was never played. </li>
<li>
<b>Bugfix:</b> The game would crash if a skill was reflected on an actor with an ID higher than the number of actors in the party. </li>
<li>
<b>Bugfix:</b> The battle status window was gone while the skill selection window was open. </li>
<li>
<b>Bugfix:</b> If you had selected "Small Window" in the "Battle
    Layout" tab of the database, the action selection window would only display 3 lines plus an ugly empty one at the bottom and also the item and skill selection windows would not display the last line correctly. Additionally, the selection cursor for "Show choice" windows was misaligned in battle. </li>
<li>
<b>Bugfix:</b> The "Order" menu (used for rearranging party members) didn't play the cancel sound when you exited. </li>
<li>
<b>Bugfix:</b> When the shop system was used, the events weren't updated, which means that if you bought an item in the shop, events which used this item as start condition wouldn't execute immediately. </li>
<li>
<b>Bugfix:</b> HP display in the save menu was misaligned when the HP had 4 digits. </li>
<li>
<b>Bugfix:</b> The game would crash if the player would open the item window in battle, then close it again using ESC and then execute a battle command of type "Link to Event". </li>
<li>
<b>Bugfix:</b> The game would crash with a "Division by zero" error on certain edge cases of picture operations (especially pictures with small zoom level partly outside the screen). </li>
<li>
<b>Bugfix:</b> Enemies were flashed even when they executed the "Do nothing" action.</li>
</ul>
<h1><a class="anchor" id="more_pics"></a>
About the pictures</h1>
<p>The DynRPG patch increases the picture limit to 2000. You might have heard that <a href="http://cherrytree.at/download/?did=10">Hyper Patcher 2</a> is able to increase this limit to a crazy 9999, but this is not so healthy in this case. Using that many pictures takes several seconds to load on starting or loading a game or going to title screen, plus you would have very bad performance with DynRPG because the DynRPG SDK allows plugins to intercept picture drawing. Each plugin is called once before and once after the picture is to draw, so you can imagine that 9999 pictures would mean 5 times more plugin calls than 2000 pictures, so I decided that 2000 pictures would be the best compromise.</p>
<p>Please keep in mind that <b>only pictures #1 to #1000 will be erased on map change</b>! The fact that pictures with an ID greater than 1000 won't be erased automatically allows you to use pictures for cross-map purposes more easily.</p>
<p>However, there is one thing you need to do (unless you are already using <a href="http://cherrytree.at/download/?did=19">PicPointerPatch</a>): You need to modify the RPG Maker editor itself too, otherwise you won't be able to select picture IDs greater than 50 in the event editor. There are two ways to do this: </p><ul>
<li>
<b>The easy way:</b> You need to use <a href="http://cherrytree.at/ultimate">RPG Maker 2009 Ultimate</a>. You then just need to create a file called <code>morepictures.ini</code> (or whatever name you like) in RPG Maker 2009 Ultimate's <code>uimod</code> folder and put the following text into it: <div class="fragment"><div class="line">[FormEvCmd11110]</div>
<div class="line">DialEdit1.MaxValue=100000</div>
<div class="line"> </div>
<div class="line">[FormEvCmd11120]</div>
<div class="line">DialEdit1.MaxValue=100000</div>
<div class="line"> </div>
<div class="line">[FormEvCmd11130]</div>
<div class="line">DialEdit1.MaxValue=100000</div>
</div><!-- fragment --> Then you need to edit the <code>ultimate.ini</code> file: Open it in a text editor, go to the section <code>[UIMod]</code> and add your file at the end of the section. </li>
<li>
<b>The hard way:</b> If you do not want to use RPG Maker 2009 Ultimate, you need to directly edit your <code>RPG2003.exe</code> file: <ol>
<li>
Download <a href="http://www.snapfiles.com/get/resourcehacker.html">Resource Hacker</a>. </li>
<li>
Open your <code>RPG2003.exe</code> file in it. </li>
<li>
Navigate to <code>RCDATA &gt; TFORMEVCMD11110 &gt; 0</code>. </li>
<li>
In the script on the right side, look for the following line: <div class="fragment"><div class="line">MaxValue = 50</div>
</div><!-- fragment --> If you have an older RPG Maker version, it might be <code>40</code> instead of <code>50</code>. Increase this value, for example, to <code>100000</code>. The reason we use such a high value is that higher values might be used for extra features (for example, with the <a href="http://cherrytree.at/download?did=19">PicPointerPatch</a>). </li>
<li>
Click <code>Compile Script</code>. </li>
<li>
Repeat steps 4 and 5 for the pages <code>RCDATA &gt; TFORMEVCMD11120 &gt; 0</code> and <code>RCDATA &gt; TFORMEVCMD11130 &gt; 0</code>. </li>
<li>
Save your changes and exit Resource Hacker.</li>
</ol>
</li>
</ul>
<h1><a class="anchor" id="onthefly_ips"></a>
On-the-fly IPS patches</h1>
<p>DynRPG can parse IPS files and apply them to the game in memory. This means you can add IPS patches without actually modifying any file on your harddisk, making it easy to remove the patch again. There is a folder <code>DynPatches</code> in which the loader will look for IPS files and apply them on-the-fly. Please note that the loader will fail to apply a patch if it tries to modify regions of the <code>RPG_RT.exe</code> which would affect DynRPG itself or lie outside of the areas which are mapped to memory. (Don't worry, nothing will explode, it will just trigger an error message.)</p>
<h1><a class="anchor" id="quickpatches"></a>
Quickpatches</h1>
<p>Quickpatches are simple text "codes" which instruct DynRPG to modify certain bytes in the game's memory. They are added to a special section in your <code>DynRPG.ini</code> file called <code>[QuickPatches]</code>. Each quickpatch has a name, which can be arbitrary and is completely ignored by the loader.</p>
<p><b>End users:</b> Simply copy and paste a quickpatch from the Internet into your <code>[QuickPatches]</code> section (create the section if it does not exist). If you don't like it, remove it again or disable it by prepending a semicolon. Quickpatches may contain configurable values, the developer should normally tell you what their effect is.</p>
<p><b>Developers:</b> The format of quickpatches is very simple: </p><div class="fragment"><div class="line">PatchName=Address1,Values1,Address2,Values2,Address3,Values3,...</div>
</div><!-- fragment --><p> You can specify one of more virtual address to modify, together with the values to write to that address. These "values" may use one of those 3 formats: </p><ul>
<li>
<b>Hex bytes:</b> One or more bytes in simple two-digit hexadecimal notation. For example, <code>401234,90</code> will write byte <code>0x90</code> at address <code>0x401234</code>, <code>401234,1A2B3C</code> will write byte <code>0x1A</code> at address <code>0x401234</code>, byte <code>0x2B</code> at address <code>0x401235</code> and byte <code>0x3C</code> at address <code>0x401236</code>. </li>
<li>
<b>8-bit decimal value:</b> Decimal value (may be negative) prepended by a percent sign, which will occupy one byte. Meant to be easily customizable by end users. For example, <code>401234,%32</code> will write byte <code>0x20</code> at address <code>0x401234</code>. </li>
<li>
<b>32-bit decimal value:</b> Decimal value (may be negative) prepended by a sharp sign, which will occupy four bytes. Meant to be easily customizable by end users. For example, <code>401234,#1000</code> will write byte <code>0xE8</code> at address <code>0x401234</code>, byte <code>0x03</code> at address <code>0x401235</code>, and two <code>0x00</code> bytes at addresses <code>0x401236</code> and <code>0x401237</code>.</li>
</ul>
<p>Example for two "real-life" quickpatches: </p><div class="fragment"><div class="line">; Hides EXP in main menu and save screen</div>
<div class="line">HideEXP=49E148,EB71,49F1CA,EB67,49F095,EB21</div>
<div class="line">; Moves the window on the title screen to coordinates 144/56</div>
<div class="line">MoveTitleWindow=490821,#144,490828,#56</div>
</div><!-- fragment --><p> For this example please note that the RPG Maker uses the X coordinate for the middle of the window, while the Y coordinate is used for the top of the window. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.10.0-->
<!-- start footer part -->
<hr class="footer" />
<address class="footer"><small>
    Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg"
        width="104" height="31" alt="doxygen" /></a> 1.12.0
  </small></address>
</body>
</html>
